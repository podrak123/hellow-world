function e(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}const t="undefined"!=typeof window&&null!=window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,o=(e,t,o=null)=>{for(;t!==o;){const o=t.nextSibling;e.removeChild(t),t=o}},n=`{{lit-${String(Math.random()).slice(2)}}}`,i=`\x3c!--${n}--\x3e`,r=new RegExp(`${n}|${i}`);class s{constructor(e,t){this.parts=[],this.element=t;const o=[],i=[],s=document.createTreeWalker(t.content,133,null,!1);let l=0,u=-1,p=0;const{strings:h,values:{length:m}}=e;for(;p<m;){const e=s.nextNode();if(null!==e){if(u++,1===e.nodeType){if(e.hasAttributes()){const t=e.attributes,{length:o}=t;let n=0;for(let e=0;e<o;e++)a(t[e].name,"$lit$")&&n++;for(;n-- >0;){const t=h[p],o=c.exec(t)[2],n=o.toLowerCase()+"$lit$",i=e.getAttribute(n);e.removeAttribute(n);const s=i.split(r);this.parts.push({type:"attribute",index:u,name:o,strings:s}),p+=s.length-1}}"TEMPLATE"===e.tagName&&(i.push(e),s.currentNode=e.content)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(n)>=0){const n=e.parentNode,i=t.split(r),s=i.length-1;for(let t=0;t<s;t++){let o,r=i[t];if(""===r)o=d();else{const e=c.exec(r);null!==e&&a(e[2],"$lit$")&&(r=r.slice(0,e.index)+e[1]+e[2].slice(0,-"$lit$".length)+e[3]),o=document.createTextNode(r)}n.insertBefore(o,e),this.parts.push({type:"node",index:++u})}""===i[s]?(n.insertBefore(d(),e),o.push(e)):e.data=i[s],p+=s}}else if(8===e.nodeType)if(e.data===n){const t=e.parentNode;null!==e.previousSibling&&u!==l||(u++,t.insertBefore(d(),e)),l=u,this.parts.push({type:"node",index:u}),null===e.nextSibling?e.data="":(o.push(e),u--),p++}else{let t=-1;for(;-1!==(t=e.data.indexOf(n,t+1));)this.parts.push({type:"node",index:-1}),p++}}else s.currentNode=i.pop()}for(const e of o)e.parentNode.removeChild(e)}}const a=(e,t)=>{const o=e.length-t.length;return o>=0&&e.slice(o)===t},l=e=>-1!==e.index,d=()=>document.createComment(""),c=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function u(e,t){const{element:{content:o},parts:n}=e,i=document.createTreeWalker(o,133,null,!1);let r=h(n),s=n[r],a=-1,l=0;const d=[];let c=null;for(;i.nextNode();){a++;const e=i.currentNode;for(e.previousSibling===c&&(c=null),t.has(e)&&(d.push(e),null===c&&(c=e)),null!==c&&l++;void 0!==s&&s.index===a;)s.index=null!==c?-1:s.index-l,r=h(n,r),s=n[r]}d.forEach(e=>e.parentNode.removeChild(e))}const p=e=>{let t=11===e.nodeType?0:1;const o=document.createTreeWalker(e,133,null,!1);for(;o.nextNode();)t++;return t},h=(e,t=-1)=>{for(let o=t+1;o<e.length;o++){const t=e[o];if(l(t))return o}return-1};const m=new WeakMap,y=e=>"function"==typeof e&&m.has(e),f={},g={};class b{constructor(e,t,o){this.__parts=[],this.template=e,this.processor=t,this.options=o}update(e){let t=0;for(const o of this.__parts)void 0!==o&&o.setValue(e[t]),t++;for(const e of this.__parts)void 0!==e&&e.commit()}_clone(){const e=t?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),o=[],n=this.template.parts,i=document.createTreeWalker(e,133,null,!1);let r,s=0,a=0,d=i.nextNode();for(;s<n.length;)if(r=n[s],l(r)){for(;a<r.index;)a++,"TEMPLATE"===d.nodeName&&(o.push(d),i.currentNode=d.content),null===(d=i.nextNode())&&(i.currentNode=o.pop(),d=i.nextNode());if("node"===r.type){const e=this.processor.handleTextExpression(this.options);e.insertAfterNode(d.previousSibling),this.__parts.push(e)}else this.__parts.push(...this.processor.handleAttributeExpressions(d,r.name,r.strings,this.options));s++}else this.__parts.push(void 0),s++;return t&&(document.adoptNode(e),customElements.upgrade(e)),e}}const v=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:e=>e}),_=` ${n} `;class w{constructor(e,t,o,n){this.strings=e,this.values=t,this.type=o,this.processor=n}getHTML(){const e=this.strings.length-1;let t="",o=!1;for(let r=0;r<e;r++){const e=this.strings[r],s=e.lastIndexOf("\x3c!--");o=(s>-1||o)&&-1===e.indexOf("--\x3e",s+1);const a=c.exec(e);t+=null===a?e+(o?_:i):e.substr(0,a.index)+a[1]+a[2]+"$lit$"+a[3]+n}return t+=this.strings[e],t}getTemplateElement(){const e=document.createElement("template");let t=this.getHTML();return void 0!==v&&(t=v.createHTML(t)),e.innerHTML=t,e}}const S=e=>null===e||!("object"==typeof e||"function"==typeof e),x=e=>Array.isArray(e)||!(!e||!e[Symbol.iterator]);class P{constructor(e,t,o){this.dirty=!0,this.element=e,this.name=t,this.strings=o,this.parts=[];for(let e=0;e<o.length-1;e++)this.parts[e]=this._createPart()}_createPart(){return new C(this)}_getValue(){const e=this.strings,t=e.length-1,o=this.parts;if(1===t&&""===e[0]&&""===e[1]){const e=o[0].value;if("symbol"==typeof e)return String(e);if("string"==typeof e||!x(e))return e}let n="";for(let i=0;i<t;i++){n+=e[i];const t=o[i];if(void 0!==t){const e=t.value;if(S(e)||!x(e))n+="string"==typeof e?e:String(e);else for(const t of e)n+="string"==typeof t?t:String(t)}}return n+=e[t],n}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class C{constructor(e){this.value=void 0,this.committer=e}setValue(e){e===f||S(e)&&e===this.value||(this.value=e,y(e)||(this.committer.dirty=!0))}commit(){for(;y(this.value);){const e=this.value;this.value=f,e(this)}this.value!==f&&this.committer.commit()}}class E{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(d()),this.endNode=e.appendChild(d())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=d()),e.__insert(this.endNode=d())}insertAfterPart(e){e.__insert(this.startNode=d()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(null===this.startNode.parentNode)return;for(;y(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=f,e(this)}const e=this.__pendingValue;e!==f&&(S(e)?e!==this.value&&this.__commitText(e):e instanceof w?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):x(e)?this.__commitIterable(e):e===g?(this.value=g,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const t=this.startNode.nextSibling,o="string"==typeof(e=null==e?"":e)?e:String(e);t===this.endNode.previousSibling&&3===t.nodeType?t.data=o:this.__commitNode(document.createTextNode(o)),this.value=e}__commitTemplateResult(e){const t=this.options.templateFactory(e);if(this.value instanceof b&&this.value.template===t)this.value.update(e.values);else{const o=new b(t,e.processor,this.options),n=o._clone();o.update(e.values),this.__commitNode(n),this.value=o}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const t=this.value;let o,n=0;for(const i of e)o=t[n],void 0===o&&(o=new E(this.options),t.push(o),0===n?o.appendIntoPart(this):o.insertAfterPart(t[n-1])),o.setValue(i),o.commit(),n++;n<t.length&&(t.length=n,this.clear(o&&o.endNode))}clear(e=this.startNode){o(this.startNode.parentNode,e.nextSibling,this.endNode)}}class T{constructor(e,t,o){if(this.value=void 0,this.__pendingValue=void 0,2!==o.length||""!==o[0]||""!==o[1])throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=t,this.strings=o}setValue(e){this.__pendingValue=e}commit(){for(;y(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=f,e(this)}if(this.__pendingValue===f)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=f}}class M extends P{constructor(e,t,o){super(e,t,o),this.single=2===o.length&&""===o[0]&&""===o[1]}_createPart(){return new A(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class A extends C{}let k=!1;(()=>{try{const e={get capture(){return k=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(e){}})();class R{constructor(e,t,o){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=t,this.eventContext=o,this.__boundHandleEvent=e=>this.handleEvent(e)}setValue(e){this.__pendingValue=e}commit(){for(;y(this.__pendingValue);){const e=this.__pendingValue;this.__pendingValue=f,e(this)}if(this.__pendingValue===f)return;const e=this.__pendingValue,t=this.value,o=null==e||null!=t&&(e.capture!==t.capture||e.once!==t.once||e.passive!==t.passive),n=null!=e&&(null==t||o);o&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),n&&(this.__options=I(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=f}handleEvent(e){"function"==typeof this.value?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const I=e=>e&&(k?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);function N(e){let t=j.get(e.type);void 0===t&&(t={stringsArray:new WeakMap,keyString:new Map},j.set(e.type,t));let o=t.stringsArray.get(e.strings);if(void 0!==o)return o;const i=e.strings.join(n);return o=t.keyString.get(i),void 0===o&&(o=new s(e,e.getTemplateElement()),t.keyString.set(i,o)),t.stringsArray.set(e.strings,o),o}const j=new Map,O=new WeakMap;const D=new class{handleAttributeExpressions(e,t,o,n){const i=t[0];if("."===i){return new M(e,t.slice(1),o).parts}if("@"===i)return[new R(e,t.slice(1),n.eventContext)];if("?"===i)return[new T(e,t.slice(1),o)];return new P(e,t,o).parts}handleTextExpression(e){return new E(e)}};"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0");const U=(e,...t)=>new w(e,t,"html",D),L=(e,t)=>`${e}--${t}`;let z=!0;void 0===window.ShadyCSS?z=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),z=!1);const B=e=>t=>{const o=L(t.type,e);let i=j.get(o);void 0===i&&(i={stringsArray:new WeakMap,keyString:new Map},j.set(o,i));let r=i.stringsArray.get(t.strings);if(void 0!==r)return r;const a=t.strings.join(n);if(r=i.keyString.get(a),void 0===r){const o=t.getTemplateElement();z&&window.ShadyCSS.prepareTemplateDom(o,e),r=new s(t,o),i.keyString.set(a,r)}return i.stringsArray.set(t.strings,r),r},V=["html","svg"],F=new Set,q=(e,t,o)=>{F.add(e);const n=o?o.element:document.createElement("template"),i=t.querySelectorAll("style"),{length:r}=i;if(0===r)return void window.ShadyCSS.prepareTemplateStyles(n,e);const s=document.createElement("style");for(let e=0;e<r;e++){const t=i[e];t.parentNode.removeChild(t),s.textContent+=t.textContent}(e=>{V.forEach(t=>{const o=j.get(L(t,e));void 0!==o&&o.keyString.forEach(e=>{const{element:{content:t}}=e,o=new Set;Array.from(t.querySelectorAll("style")).forEach(e=>{o.add(e)}),u(e,o)})})})(e);const a=n.content;o?function(e,t,o=null){const{element:{content:n},parts:i}=e;if(null==o)return void n.appendChild(t);const r=document.createTreeWalker(n,133,null,!1);let s=h(i),a=0,l=-1;for(;r.nextNode();){l++;for(r.currentNode===o&&(a=p(t),o.parentNode.insertBefore(t,o));-1!==s&&i[s].index===l;){if(a>0){for(;-1!==s;)i[s].index+=a,s=h(i,s);return}s=h(i,s)}}}(o,s,a.firstChild):a.insertBefore(s,a.firstChild),window.ShadyCSS.prepareTemplateStyles(n,e);const l=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==l)t.insertBefore(l.cloneNode(!0),t.firstChild);else if(o){a.insertBefore(s,a.firstChild);const e=new Set;e.add(s),u(o,e)}};window.JSCompiler_renameProperty=(e,t)=>e;const $={toAttribute(e,t){switch(t){case Boolean:return e?"":null;case Object:case Array:return null==e?e:JSON.stringify(e)}return e},fromAttribute(e,t){switch(t){case Boolean:return null!==e;case Number:return null===e?null:Number(e);case Object:case Array:return JSON.parse(e)}return e}},H=(e,t)=>t!==e&&(t==t||e==e),G={attribute:!0,type:String,converter:$,reflect:!1,hasChanged:H};class W extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const e=[];return this._classProperties.forEach((t,o)=>{const n=this._attributeNameForProperty(o,t);void 0!==n&&(this._attributeToPropertyMap.set(n,o),e.push(n))}),e}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const e=Object.getPrototypeOf(this)._classProperties;void 0!==e&&e.forEach((e,t)=>this._classProperties.set(t,e))}}static createProperty(e,t=G){if(this._ensureClassProperties(),this._classProperties.set(e,t),t.noAccessor||this.prototype.hasOwnProperty(e))return;const o="symbol"==typeof e?Symbol():"__"+e,n=this.getPropertyDescriptor(e,o,t);void 0!==n&&Object.defineProperty(this.prototype,e,n)}static getPropertyDescriptor(e,t,o){return{get(){return this[t]},set(n){const i=this[e];this[t]=n,this.requestUpdateInternal(e,i,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this._classProperties&&this._classProperties.get(e)||G}static finalize(){const e=Object.getPrototypeOf(this);if(e.hasOwnProperty("finalized")||e.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const e=this.properties,t=[...Object.getOwnPropertyNames(e),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]];for(const o of t)this.createProperty(o,e[o])}}static _attributeNameForProperty(e,t){const o=t.attribute;return!1===o?void 0:"string"==typeof o?o:"string"==typeof e?e.toLowerCase():void 0}static _valueHasChanged(e,t,o=H){return o(e,t)}static _propertyValueFromAttribute(e,t){const o=t.type,n=t.converter||$,i="function"==typeof n?n:n.fromAttribute;return i?i(e,o):e}static _propertyValueToAttribute(e,t){if(void 0===t.reflect)return;const o=t.type,n=t.converter;return(n&&n.toAttribute||$.toAttribute)(e,o)}initialize(){this._updateState=0,this._updatePromise=new Promise(e=>this._enableUpdatingResolver=e),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((e,t)=>{if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}})}_applyInstanceProperties(){this._instanceProperties.forEach((e,t)=>this[t]=e),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(e,t,o){t!==o&&this._attributeToProperty(e,o)}_propertyToAttribute(e,t,o=G){const n=this.constructor,i=n._attributeNameForProperty(e,o);if(void 0!==i){const e=n._propertyValueToAttribute(t,o);if(void 0===e)return;this._updateState=8|this._updateState,null==e?this.removeAttribute(i):this.setAttribute(i,e),this._updateState=-9&this._updateState}}_attributeToProperty(e,t){if(8&this._updateState)return;const o=this.constructor,n=o._attributeToPropertyMap.get(e);if(void 0!==n){const e=o.getPropertyOptions(n);this._updateState=16|this._updateState,this[n]=o._propertyValueFromAttribute(t,e),this._updateState=-17&this._updateState}}requestUpdateInternal(e,t,o){let n=!0;if(void 0!==e){const i=this.constructor;o=o||i.getPropertyOptions(e),i._valueHasChanged(this[e],t,o.hasChanged)?(this._changedProperties.has(e)||this._changedProperties.set(e,t),!0!==o.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(e,o))):n=!1}!this._hasRequestedUpdate&&n&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(e,t){return this.requestUpdateInternal(e,t),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(e){}const e=this.performUpdate();return null!=e&&await e,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let e=!1;const t=this._changedProperties;try{e=this.shouldUpdate(t),e?this.update(t):this._markUpdated()}catch(t){throw e=!1,this._markUpdated(),t}e&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(t)),this.updated(t))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(e){return!0}update(e){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((e,t)=>this._propertyToAttribute(t,this[t],e)),this._reflectingProperties=void 0),this._markUpdated()}updated(e){}firstUpdated(e){}}W.finalized=!0;const J=e=>t=>"function"==typeof t?((e,t)=>(window.customElements.define(e,t),t))(e,t):((e,t)=>{const{kind:o,elements:n}=t;return{kind:o,elements:n,finisher(t){window.customElements.define(e,t)}}})(e,t),K=(e,t)=>"method"===t.kind&&t.descriptor&&!("value"in t.descriptor)?Object.assign(Object.assign({},t),{finisher(o){o.createProperty(t.key,e)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof t.initializer&&(this[t.key]=t.initializer.call(this))},finisher(o){o.createProperty(t.key,e)}};function X(e){return(t,o)=>void 0!==o?((e,t,o)=>{t.constructor.createProperty(o,e)})(e,t,o):K(e,t)}const Y=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Z=Symbol();class Q{constructor(e,t){if(t!==Z)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e}get styleSheet(){return void 0===this._styleSheet&&(Y?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}const ee=(e,...t)=>{const o=t.reduce((t,o,n)=>t+(e=>{if(e instanceof Q)return e.cssText;if("number"==typeof e)return e;throw new Error(`Value passed to 'css' function must be a 'css' function result: ${e}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`)})(o)+e[n+1],e[0]);return new Q(o,Z)};(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");const te={};class oe extends W{static getStyles(){return this.styles}static _getUniqueStyles(){if(this.hasOwnProperty(JSCompiler_renameProperty("_styles",this)))return;const e=this.getStyles();if(Array.isArray(e)){const t=(e,o)=>e.reduceRight((e,o)=>Array.isArray(o)?t(o,e):(e.add(o),e),o),o=t(e,new Set),n=[];o.forEach(e=>n.unshift(e)),this._styles=n}else this._styles=void 0===e?[]:[e];this._styles=this._styles.map(e=>{if(e instanceof CSSStyleSheet&&!Y){const t=Array.prototype.slice.call(e.cssRules).reduce((e,t)=>e+t.cssText,"");return new Q(String(t),Z)}return e})}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const e=this.constructor._styles;0!==e.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?Y?this.renderRoot.adoptedStyleSheets=e.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(e.map(e=>e.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(e){const t=this.render();super.update(e),t!==te&&this.constructor.render(t,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(e=>{const t=document.createElement("style");t.textContent=e.cssText,this.renderRoot.appendChild(t)}))}render(){return te}}oe.finalized=!0,oe.render=(e,t,n)=>{if(!n||"object"!=typeof n||!n.scopeName)throw new Error("The `scopeName` option is required.");const i=n.scopeName,r=O.has(t),s=z&&11===t.nodeType&&!!t.host,a=s&&!F.has(i),l=a?document.createDocumentFragment():t;if(((e,t,n)=>{let i=O.get(t);void 0===i&&(o(t,t.firstChild),O.set(t,i=new E(Object.assign({templateFactory:N},n))),i.appendInto(t)),i.setValue(e),i.commit()})(e,l,Object.assign({templateFactory:B(i)},n)),a){const e=O.get(l);O.delete(l);const n=e.value instanceof b?e.value.template:void 0;q(i,l,n),o(t,t.firstChild),t.appendChild(l),O.set(t,e)}!r&&s&&window.ShadyCSS.styleElement(t.host)};class ne{}const ie=ee`.clearfix::after{display:block;clear:both;content:''}.show{display:inline}.hide{display:none}input[type=checkbox]{margin-right:4px}.pmtIco{background:url(https://i.dell.com/sites/csimages/App-Merchandizing_responsive_Images/all/buy_payments_pcf_sprite_v1.png) no-repeat 50px 0;display:block;width:80px;height:25px;margin-left:10px}.pIco-googlepay,.pIco-gp{background-position:-82px -115px;width:46px;height:20px;margin-right:0;margin-left:0;background-size:842%}.payment-icons{margin:8px auto}.payment-icons .pmtIco{margin-right:3px}.payment-icons .pmtIco:last-child{margin-right:10px}.collapsible{padding:16px 16px 16px 16px;width:100%;border-style:solid;border-width:1px;text-align:left;outline:0;font-size:16px;border-radius:6px;border-color:#ccc;background-color:inherit;min-height:56px}.active,.collapsible:hover{cursor:pointer}.activeview{background-color:#f4f9ff;border-width:1.5px;border-color:#006bbd;border-radius:6px;opacity:1}.content{overflow:hidden;transition:max-height .2s ease-out}.collapse{max-height:0}.infoicon{color:#00f;height:19px;width:19px;opacity:.7}.top-5{top:5%}.payment_details{width:100%;max-height:500px;min-height:420px;overflow:hidden}.showModal{opacity:1;background-color:#000;background-color:rgba(0,0,0,.4)}.closeModal{opacity:0}.displayModal{display:none;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4)}`;function re(e){e&&void 0!==window.document.documentMode&&e.classList.add("isIE")}let se={};function ae(e){9===e.keyCode&&(this.classList.add("user-is-tabbing"),this.removeEventListener("keydown",se[this.id].keydown),this.addEventListener("mousedown",se[this.id].mousedown))}function le(e){0===e.x&&0===e.y||(this.classList.remove("user-is-tabbing"),this.removeEventListener("mousedown",se[this.id].mousedown),this.addEventListener("keydown",se[this.id].keydown))}function de(e){e.id?(se[e.id]={keydown:ae.bind(e),mousedown:le.bind(e)},e.addEventListener("keydown",se[e.id].keydown)):console.warn(e.tagName+" requires an Id for ui core tabbing")}var ce="object"==typeof global&&global&&global.Object===Object&&global,ue="object"==typeof self&&self&&self.Object===Object&&self,pe=ce||ue||Function("return this")(),he=pe.Symbol,me=Object.prototype,ye=me.hasOwnProperty,fe=me.toString,ge=he?he.toStringTag:void 0;var be=Object.prototype.toString;var ve=he?he.toStringTag:void 0;function _e(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ve&&ve in Object(e)?function(e){var t=ye.call(e,ge),o=e[ge];try{e[ge]=void 0;var n=!0}catch(e){}var i=fe.call(e);return n&&(t?e[ge]=o:delete e[ge]),i}(e):function(e){return be.call(e)}(e)}function we(e){return null!=e&&"object"==typeof e}var Se=Array.isArray;function xe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Pe(e){if(!xe(e))return!1;var t=_e(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var Ce,Ee=pe["__core-js_shared__"],Te=(Ce=/[^.]+$/.exec(Ee&&Ee.keys&&Ee.keys.IE_PROTO||""))?"Symbol(src)_1."+Ce:"";var Me=Function.prototype.toString;function Ae(e){if(null!=e){try{return Me.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var ke=/^\[object .+?Constructor\]$/,Re=Function.prototype,Ie=Object.prototype,Ne=Re.toString,je=Ie.hasOwnProperty,Oe=RegExp("^"+Ne.call(je).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function De(e){return!(!xe(e)||(t=e,Te&&Te in t))&&(Pe(e)?Oe:ke).test(Ae(e));var t}function Ue(e,t){var o=function(e,t){return null==e?void 0:e[t]}(e,t);return De(o)?o:void 0}var Le=Ue(pe,"WeakMap");function ze(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}var Be=Object.prototype;function Ve(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Be)}function Fe(e){return we(e)&&"[object Arguments]"==_e(e)}var qe=Object.prototype,$e=qe.hasOwnProperty,He=qe.propertyIsEnumerable,Ge=Fe(function(){return arguments}())?Fe:function(e){return we(e)&&$e.call(e,"callee")&&!He.call(e,"callee")};var We="object"==typeof exports&&exports&&!exports.nodeType&&exports,Je=We&&"object"==typeof module&&module&&!module.nodeType&&module,Ke=Je&&Je.exports===We?pe.Buffer:void 0,Xe=(Ke?Ke.isBuffer:void 0)||function(){return!1},Ye={};Ye["[object Float32Array]"]=Ye["[object Float64Array]"]=Ye["[object Int8Array]"]=Ye["[object Int16Array]"]=Ye["[object Int32Array]"]=Ye["[object Uint8Array]"]=Ye["[object Uint8ClampedArray]"]=Ye["[object Uint16Array]"]=Ye["[object Uint32Array]"]=!0,Ye["[object Arguments]"]=Ye["[object Array]"]=Ye["[object ArrayBuffer]"]=Ye["[object Boolean]"]=Ye["[object DataView]"]=Ye["[object Date]"]=Ye["[object Error]"]=Ye["[object Function]"]=Ye["[object Map]"]=Ye["[object Number]"]=Ye["[object Object]"]=Ye["[object RegExp]"]=Ye["[object Set]"]=Ye["[object String]"]=Ye["[object WeakMap]"]=!1;var Ze,Qe="object"==typeof exports&&exports&&!exports.nodeType&&exports,et=Qe&&"object"==typeof module&&module&&!module.nodeType&&module,tt=et&&et.exports===Qe&&ce.process,ot=function(){try{var e=et&&et.require&&et.require("util").types;return e||tt&&tt.binding&&tt.binding("util")}catch(e){}}(),nt=ot&&ot.isTypedArray,it=nt?(Ze=nt,function(e){return Ze(e)}):function(e){return we(e)&&ze(e.length)&&!!Ye[_e(e)]};var rt=function(e,t){return function(o){return e(t(o))}}(Object.keys,Object),st=Object.prototype.hasOwnProperty;var at=Ue(pe,"Map"),lt=Ue(pe,"DataView"),dt=Ue(pe,"Promise"),ct=Ue(pe,"Set"),ut=Ae(lt),pt=Ae(at),ht=Ae(dt),mt=Ae(ct),yt=Ae(Le),ft=_e;(lt&&"[object DataView]"!=ft(new lt(new ArrayBuffer(1)))||at&&"[object Map]"!=ft(new at)||dt&&"[object Promise]"!=ft(dt.resolve())||ct&&"[object Set]"!=ft(new ct)||Le&&"[object WeakMap]"!=ft(new Le))&&(ft=function(e){var t=_e(e),o="[object Object]"==t?e.constructor:void 0,n=o?Ae(o):"";if(n)switch(n){case ut:return"[object DataView]";case pt:return"[object Map]";case ht:return"[object Promise]";case mt:return"[object Set]";case yt:return"[object WeakMap]"}return t});var gt,bt,vt,_t,wt,St=ft,xt=Object.prototype.hasOwnProperty;function Pt(e){if(null==e)return!0;if(function(e){return null!=e&&ze(e.length)&&!Pe(e)}(e)&&(Se(e)||"string"==typeof e||"function"==typeof e.splice||Xe(e)||it(e)||Ge(e)))return!e.length;var t=St(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Ve(e))return!function(e){if(!Ve(e))return rt(e);var t=[];for(var o in Object(e))st.call(e,o)&&"constructor"!=o&&t.push(o);return t}(e).length;for(var o in e)if(xt.call(e,o))return!1;return!0}function Ct(e){return null==e}class Et{}function Tt(e){return Ct(e)||Pt(e)}function Mt(e){return!Ct(e)&&!(Tt(null==e?void 0:e.countryCode)||Tt(null==e?void 0:e.currencyCode)||Tt(null==e?void 0:e.language)||Tt(null==e?void 0:e.region)||Tt(null==e?void 0:e.segment))}Et.payCode="gp",Et.paymentCategory="payment wallets",Et.walletType="GPay",Et.onApprove="onApprove",Et.onError="onError",function(e){e.PaymentProcessNotification="paymentProcessNotification",e.PaymentProcessingStarted="paymentProcessingStarted",e.ShowGpay3DSModal="showGpay3DSModal",e.CloseGpay3DSModel="closeGpay3DSModel",e.ThreeDsTimedout="threeDsTimedout",e.SpinnerUpdated="spinnerUpdated"}(gt||(gt={})),function(e){e.Register="Register",e.Authenticate="Authenticate",e.UpdateAmount="UpdateAmount",e.LookupRetry="LookupRetry"}(bt||(bt={})),function(e){e.Show="show",e.Hide="hide"}(vt||(vt={})),function(e){e.Success="Success",e.Failure="Failure"}(_t||(_t={})),function(e){e.PROD="PROD",e.TEST="TEST",e.DEV="DEV"}(wt||(wt={}));let At=class extends oe{constructor(){super(),this._context=new ne,this.collapsedView=!1}static get styles(){return[ee(['@charset "UTF-8";:root{--blue:#0076ce;--purple:#6e2585;--red:#ce1126;--orange:#ee6411;--yellow:#f2af00;--green:#6ea204;--cyan:#006bbd;--white:#fff;--gray:#6c757d;--gray-dark:#343a40;--dell-gray:grey;--dell-black:#000;--dell-purple:#6e2585;--dell-berry:#b7295a;--dell-red:#ce1126;--dell-orange:#ee6411;--dell-yellow:#f2af00;--dell-green:#6ea204;--dell-midnight:#00447c;--dell-blue:#0076ce;--dell-carbon:#444;--dell-granite:#c8c9c7;--dell-quartz:#eee;--dell-white:#fff;--dell-alert-yellow:#ffffc9;--dell-cloud:#edf9ff;--dell-sky:#cce5f1;--dell-mist:#f9f9f9;--dell-ash:#ccc;--dell-moon:#767676;--dell-sea-blue:#006bbd;--dell-blue-disabled:#5aabd1;--dell-primary-purchase-green:#408001;--dell-primary-purchase-green-disabled:#83ad5a;--dell-primary-purchase-green-hover:#285709;--dell-secondary-non-purchase-disabled:#f9f9f9;--dell-secondary-non-purchase-hover:#dadada;--primary:#006bbd;--secondary:#eee;--success:#408001;--purchase:#408001;--danger:#ce1126;--pink:#b7295a;--breakpoint-xs:0;--breakpoint-sm:576px;--breakpoint-md:768px;--breakpoint-lg:992px;--breakpoint-xl:1200px;--font-family-sans-serif:"Roboto","Cordia New","Microsoft Sans Serif","Utsaah","Devanagari MT","Nirmala UI","Latha","InaiMathi","Gautami","Telugu Sangam MN","Tunga","Kannada Sangam MN","Kartika","Malayalam Sangam MN","Shruti","Nirmala UI","Gujarati MT","Gujarati Sangam MN","Vrinda","Bangla Sangam MN","Meiryo UI Reg","„É°„Ç§„É™„Ç™ Reg","MS UI Gothic Reg","Hiragino Kaku Gothic Reg","„Éí„É©„ÇÆ„ÉéËßí„Ç¥ Pro W3 Reg","Microsoft YaHei","ÂæÆËΩØÈõÖÈªë","Hiragino Sans GB","Microsoft JhengHei","ÂæÆËªüÊ≠£ÈªëÈ´î","Malgun Gothic","ÎßëÏùÄ Í≥†Îîï","Gulim","AppleGothic","Apple LiGothic","LiHei Pro","Osaka","STHeiti","ÂçéÊñáÈªë‰Ωì","STXihei","ÂçéÊñáÁªÜÈªë","SimHei","Èªë‰Ωì","Arial Unicode MS","Arial",sans-serif;--font-family-monospace:sfmono-regular,menlo,monaco,consolas,"Liberation Mono","Courier New",monospace}@font-face{font-family:dds-icons;font-style:normal;font-weight:400;src:url(//uicore.dellcdn.com/1.3.3/icons/dds-icons.woff2) format("woff2"),url(//uicore.dellcdn.com/1.3.3/icons/dds-icons.woff) format("woff"),url(//uicore.dellcdn.com/1.3.3/icons/dds-icons.ttf) format("truetype"),url(//uicore.dellcdn.com/1.3.3/icons/dds-icons.eot),url(//uicore.dellcdn.com/1.3.3/icons/dds-icons.eot#iefix) format("embedded-opentype")}.dds__icons{font-family:dds-icons;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-style:normal;font-variant:normal;font-weight:400;line-height:1;text-transform:none}.dds__alert-notice:before{content:"‚ö†"}.dds__close-x:before{content:"üóô"}@-ms-viewport{width:auto!important}@keyframes shake{0%{left:0}10%{left:-3px}20%{left:3px}30%{left:-3px}40%{left:3px}to{left:0}}.dds__col{position:relative;width:100%;min-height:1px;padding-right:.9375rem;padding-left:.9375rem;flex-basis:0;flex-grow:1;max-width:100%}.dds__form-row{display:flex;flex-wrap:wrap;margin-left:-5px;margin-right:-5px}.dds__form-row>.dds__col{padding-left:5px;padding-right:5px}input:-webkit-autofill,input:-webkit-autofill:hover{border:.0625rem solid #ccc;-webkit-box-shadow:0 0 0 62.5rem #fff inset;-webkit-text-fill-color:none;transition:none 5000s ease-in-out 0s}input:-webkit-autofill:focus{border-color:#0076ce!important;box-shadow:0 0 .375rem 0 rgba(0,118,206,.4)!important}body:not(.user-is-tabbing){outline:none!important}.dds__alert{border-radius:.0625rem;background:#ffffc9;border:.0625rem solid #eee;margin-bottom:0;padding:.9375rem;position:relative}.dds__alert i{font-size:1.25rem}.dds__alert button.dds__close-x{background-color:transparent;border:none;padding:.625rem;position:absolute;right:0;top:0}.dds__alert button.dds__close-x:hover{cursor:pointer}.dds__alert button.dds__close-x:focus{outline:.0625rem solid #000}.dds__alert .dds__alert-heading{color:inherit;display:flex;flex-direction:row;padding-right:.9375rem}.dds__alert .dds__alert-notice{color:#ee6411;padding-right:.625rem;vertical-align:middle}@keyframes progress-bar-stripes{0%{background-position:1.42857rem 0}to{background-position:0 0}}.dds__close{color:#000;float:right;font-size:1.5rem;font-weight:700;line-height:1;opacity:.5;text-shadow:0 .0625rem 0 #fff}.dds__close:not(:disabled):not(.dds__disabled){cursor:pointer}.dds__close:not(:disabled):not(.dds__disabled):focus,.dds__close:not(:disabled):not(.dds__disabled):hover{color:#000;opacity:.75;text-decoration:none}button.dds__close{background-color:transparent;border:0;padding:0}.dds__modal{bottom:0;display:none;left:0;outline:0;overflow:hidden;position:fixed;right:0;top:0;z-index:1050}.dds__modal .dds__close{font-size:1rem;opacity:1;position:absolute;right:1rem;top:1rem}.dds__modal-dialog{margin:.5rem;pointer-events:none;position:relative;top:20%;width:auto}.dds__modal-content{background-clip:padding-box;background-color:#fff;border:.0625rem solid rgba(0,0,0,.2);border-radius:.0625rem;display:flex;flex-direction:column;outline:0;padding:1.5rem;pointer-events:auto;position:relative;width:100%}.dds__modal-header{border-bottom:.0625rem solid #e9ecef;display:inline;padding:.05rem}.dds__modal-header .dds__modal-title{line-height:1.5;margin-bottom:0;word-wrap:break-word}.dds__modal-title{line-height:1.5;margin-bottom:0}.dds__modal-body{flex:1 1 auto;padding:1rem;position:relative}.dds__modal-body,.dds__modal-header{padding-bottom:.375rem;padding-left:0}@media (min-width:576px){.dds__modal-dialog{margin:1.75rem auto;max-width:31.25rem}}.dds__d-none{display:none!important}.dds__d-block{display:block!important}.dds__d-flex{display:flex!important}.dds__justify-content-between{justify-content:space-between!important}.dds__align-items-center{align-items:center!important}.dds__mt-3{margin-top:1rem!important}.dds__mb-3{margin-bottom:1rem!important}input:disabled~span{cursor:not-allowed}i.dds__icons.dds__icon-h4{font-size:1.375rem}@media (min-width:576px){i.dds__icons.dds__icon-h4{font-size:1.5rem}}@media (min-width:768px){i.dds__icons.dds__icon-h4{font-size:1.5rem}}@media (min-width:992px){i.dds__icons.dds__icon-h4{font-size:1.5rem}}@media (min-width:1200px){i.dds__icons.dds__icon-h4{font-size:1.5rem}}@media print{*,:after,:before{box-shadow:none!important;text-shadow:none!important}h3,p{orphans:3;widows:3}h3{page-break-after:avoid}@page{size:a3}body{min-width:992px!important}}\n\n/*!\n* Bootstrap Reboot v4.1.3 (https://getbootstrap.com/)\n* Copyright 2011-2018 The Bootstrap Authors\n* Copyright 2011-2018 Twitter, Inc.\n* Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n* Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md)\n*/*,:after,:before{box-sizing:border-box}h3,p{margin-top:0}p{margin-bottom:.625rem}address{font-style:normal;line-height:inherit;margin-bottom:1rem}small{font-size:80%}label{display:inline-block;margin-bottom:.25rem}button{border-radius:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}button,input{font-family:inherit;overflow:visible}button{text-transform:none}[type=button]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}input[type=checkbox]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}template{display:none}[hidden]{display:none!important}div,p,span{-webkit-text-size-adjust:100%}:host(:not(.user-is-tabbing)) button:focus,:host(:not(.user-is-tabbing)) div:focus,:host(:not(.user-is-tabbing)) h3:focus,:host(:not(.user-is-tabbing)) input:focus,:host(:not(.user-is-tabbing)) label:focus,:host(:not(.user-is-tabbing)) span:focus{outline:none!important;text-decoration:none}:host(.user-is-tabbing) :focus{outline:.0625rem solid #000!important;outline-offset:.125rem!important;outline-offset:.125rem -webkit-focus-ring-color!important}button:focus{outline:none}button,input{font-family:Roboto,Cordia New,"Microsoft Sans Serif",Utsaah,Devanagari MT,Nirmala UI,Latha,InaiMathi,Gautami,Telugu Sangam MN,Tunga,Kannada Sangam MN,Kartika,Malayalam Sangam MN,Shruti,Gujarati MT,Gujarati Sangam MN,Vrinda,Bangla Sangam MN,Meiryo UI Reg,„É°„Ç§„É™„Ç™ Reg,MS UI Gothic Reg,Hiragino Kaku Gothic Reg,„Éí„É©„ÇÆ„ÉéËßí„Ç¥ Pro W3 Reg,Microsoft YaHei,ÂæÆËΩØÈõÖÈªë,Hiragino Sans GB,Microsoft JhengHei,ÂæÆËªüÊ≠£ÈªëÈ´î,Malgun Gothic,ÎßëÏùÄ Í≥†Îîï,Gulim,AppleGothic,Apple LiGothic,LiHei Pro,Osaka,STHeiti,ÂçéÊñáÈªë‰Ωì,STXihei,ÂçéÊñáÁªÜÈªë,SimHei,Èªë‰Ωì,Arial Unicode MS,Arial,sans-serif;font-size:inherit;line-height:inherit;margin:0}small{font-size:.75rem;font-weight:400;line-height:1.25}h3{color:inherit;font-family:inherit;line-height:1.2;margin-bottom:.625rem;font-size:1.25rem;font-weight:300;font-size:1.0625rem;line-height:1.25rem}@media (min-width:768px){h3{font-size:1.25rem;line-height:1.5rem}}@media (min-width:992px){h3{font-size:1.25rem;line-height:1.5rem}}']),ie]}get paymentMFEModel(){return JSON.stringify(this._context.paymentMFEModel)}set paymentMFEModel(e){const t=this._context.paymentMFEModel,o="string"==typeof e?JSON.parse(e):e;this._context.paymentMFEModel=o,this.requestUpdate("paymentMFEModel",t)}render(){var e,t,o,n;if(Mt(null===(t=null===(e=this._context)||void 0===e?void 0:e.paymentMFEModel)||void 0===t?void 0:t.paymentContext))return o=this._context.paymentMFEModel.labelContent,n=this.collapsedView,U`<div id="googlepay-payment-tab" class="collapsible ${n?"":"active activeview"}"><div class="dds__form-row"><div class="dds__col">${o.buy_payments_googlepay_title}</div><div class="pmtIco pIco-googlepay"></div></div><div class="content ${n?"collapse":"active activeview"}"><div id="googlepay-text" class="dds__mt-3">${o.buy_payments_googlepay_tab_text}</div></div></div>`;console.log("invalid context")}initialializeTabbingAndCSS(){de(this),re(this)}firstUpdated(){this.initialializeTabbingAndCSS()}};function kt(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s}function Rt(e,t,o,n){return new(o||(o=Promise))((function(i,r){function s(e){try{l(n.next(e))}catch(e){r(e)}}function a(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))}function It(e){return e.replace(/[A-Z]+/g,e=>"-"+e).replace(/^-/,"").toLowerCase()}function Nt(e){return function(t,o){const n=e||It(o);t.addObservedAttribute&&t.addObservedAttribute(n),Object.defineProperty(t,o,{get(){return this.getAttribute(n)},set(e){null==e?this.removeAttribute(n):this.setAttribute(n,e),this.notifyPropertyChanged(o)},enumerable:!0,configurable:!0})}}function jt(e){return e?Nt(e):function(e,t){Object.defineProperty(e,t,{get(){return this["$__"+t]},set(e){this["$__"+t]=e,this.notifyPropertyChanged(t)},enumerable:!0,configurable:!0})}}function Ot(e){return function(t,o){Object.defineProperty(t,e,{get(){return this[o]},set(e){this[o]=e},enumerable:!0,configurable:!1})}}e([X({type:Boolean})],At.prototype,"collapsedView",void 0),e([X({reflect:!0})],At.prototype,"paymentMFEModel",null),At=e([J("google-pay-mfe")],At);let Dt={};function Ut(e){const t=Dt[e];if(t)return t;const o=new Promise((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0;const i=()=>{t()},r=()=>{n.removeEventListener("load",i),n.removeEventListener("error",r),delete Dt[e],n.remove(),o(new Error("Unable to load script "+e))};n.addEventListener("load",i),n.addEventListener("error",r),document.body.appendChild(n)});return Dt[e]=o,o}class Lt{constructor(e){this.handleClick=()=>Rt(this,void 0,void 0,(function*(){const e=this.config;if(!e)throw new Error("google-pay-button: Missing configuration");const t=this.createLoadPaymentDataRequest(e);try{const o=yield this.client.loadPaymentData(t);e.onLoadPaymentData&&e.onLoadPaymentData(o)}catch(t){"CANCELED"===t.statusCode?e.onCancel&&e.onCancel(t):e.onError?e.onError(t):console.error(t)}})),this.options=e}getElement(){return this.element}isGooglePayLoaded(){var e,t;return"google"in(window||global)&&!!(null===(t=null===(e=null===google||void 0===google?void 0:google.payments)||void 0===e?void 0:e.api)||void 0===t?void 0:t.PaymentsClient)}mount(e){return Rt(this,void 0,void 0,(function*(){this.isGooglePayLoaded()||(yield Ut("https://pay.google.com/gp/p/js/pay.js")),this.element=e,e&&(this.appendStyles(),this.config&&this.updateElement())}))}unmount(){this.element=void 0}configure(e){let t=void 0;return this.config=e,this.oldInvalidationValues&&!this.isClientInvalidated(e)||(t=this.updateElement()),this.oldInvalidationValues=this.getInvalidationValues(e),null!=t?t:Promise.resolve()}createClientOptions(e){const t={environment:e.environment,merchantInfo:this.createMerchantInfo(e)};return(e.onPaymentDataChanged||e.onPaymentAuthorized)&&(t.paymentDataCallbacks={},e.onPaymentDataChanged&&(t.paymentDataCallbacks.onPaymentDataChanged=t=>e.onPaymentDataChanged(t)||{}),e.onPaymentAuthorized&&(t.paymentDataCallbacks.onPaymentAuthorized=t=>e.onPaymentAuthorized(t)||{})),t}createIsReadyToPayRequest(e){const t=e.paymentRequest;return{apiVersion:t.apiVersion,apiVersionMinor:t.apiVersionMinor,allowedPaymentMethods:t.allowedPaymentMethods,existingPaymentMethodRequired:e.existingPaymentMethodRequired}}createLoadPaymentDataRequest(e){return Object.assign(Object.assign({},e.paymentRequest),{merchantInfo:this.createMerchantInfo(e)})}createMerchantInfo(e){const t=Object.assign({},e.paymentRequest.merchantInfo);return t.softwareInfo||(t.softwareInfo={id:this.options.softwareInfoId,version:this.options.softwareInfoVersion}),t}isMounted(){return null!=this.element&&!1!==this.element.isConnected}removeButton(){if(this.element instanceof ShadowRoot||this.element instanceof Element)for(const e of Array.from(this.element.children))"STYLE"!==e.tagName&&e.remove()}updateElement(){var e;return Rt(this,void 0,void 0,(function*(){if(!this.isMounted())return;const t=this.element;if(!this.config)throw new Error("google-pay-button: Missing configuration");this.removeButton(),this.client=new google.payments.api.PaymentsClient(this.createClientOptions(this.config));const o={buttonType:this.config.buttonType,buttonColor:this.config.buttonColor,buttonSizeMode:this.config.buttonSizeMode,buttonLocale:this.config.buttonLocale,onClick:this.handleClick},n=null===(e=this.element)||void 0===e?void 0:e.getRootNode();n instanceof ShadowRoot&&(o.buttonRootNode=n);const i=this.client.createButton(o);this.setClassName(t,[t.className,"not-ready"]),t.appendChild(i);let r,s=!1;try{r=yield this.client.isReadyToPay(this.createIsReadyToPayRequest(this.config)),s=r.result&&!this.config.existingPaymentMethodRequired||r.result&&r.paymentMethodPresent&&this.config.existingPaymentMethodRequired||!1}catch(e){this.config.onError?this.config.onError(e):console.error(e)}if(this.isMounted()){if(s){try{this.client.prefetchPaymentData(this.createLoadPaymentDataRequest(this.config))}catch(e){console.log("Error with prefetch",e)}this.setClassName(t,(t.className||"").split(" ").filter(e=>e&&"not-ready"!==e))}if((this.isReadyToPay!==(null==r?void 0:r.result)||this.paymentMethodPresent!==(null==r?void 0:r.paymentMethodPresent))&&(this.isReadyToPay=!!(null==r?void 0:r.result),this.paymentMethodPresent=null==r?void 0:r.paymentMethodPresent,this.config.onReadyToPayChange)){const e={isButtonVisible:s,isReadyToPay:this.isReadyToPay};this.paymentMethodPresent&&(e.paymentMethodPresent=this.paymentMethodPresent),this.config.onReadyToPayChange(e)}}}))}setClassName(e,t){const o=t.filter(e=>e).join(" ");o?e.className=o:e.removeAttribute("class")}appendStyles(){var e,t,o;if("undefined"==typeof document)return;const n=null===(e=this.element)||void 0===e?void 0:e.getRootNode(),i=`default-google-style-${this.options.cssSelector.replace(/[^\w-]+/g,"")}-${null===(t=this.config)||void 0===t?void 0:t.buttonLocale}`;if(n&&!(null===(o=n.getElementById)||void 0===o?void 0:o.call(n,i))){const e=document.createElement("style");e.id=i,e.type="text/css",e.innerHTML=`\n          ${this.options.cssSelector} {\n            display: inline-block;\n          }\n          ${this.options.cssSelector}.not-ready {\n            width: 0;\n            height: 0;\n            overflow: hidden;\n          }\n        `,n instanceof Document&&n.head?n.head.appendChild(e):n.appendChild(e)}}isClientInvalidated(e){if(!this.oldInvalidationValues)return!0;return this.getInvalidationValues(e).some((e,t)=>e!==this.oldInvalidationValues[t])}getInvalidationValues(e){var t,o;return[e.environment,e.existingPaymentMethodRequired,!!e.onPaymentDataChanged,!!e.onPaymentAuthorized,e.buttonColor,e.buttonType,e.buttonLocale,e.buttonSizeMode,e.paymentRequest.merchantInfo.merchantId,e.paymentRequest.merchantInfo.merchantName,null===(t=e.paymentRequest.merchantInfo.softwareInfo)||void 0===t?void 0:t.id,null===(o=e.paymentRequest.merchantInfo.softwareInfo)||void 0===o?void 0:o.version]}}var zt;function Bt(e,t=0){let o;return function(...n){window.clearTimeout(o);return new Promise(i=>{o=window.setTimeout(()=>{const t=(o=void 0,e(...n));i(t)},t)})}}class Vt extends HTMLElement{constructor(){super(...arguments),this.manager=new Lt({cssSelector:"google-pay-button",softwareInfoId:"@google-pay/button-element",softwareInfoVersion:"2.3.0"}),this.initializeButton=Bt(()=>{if(!this.assertRequiredProperty("paymentRequest"))return;if(!this.assertRequiredProperty("environment"))return;const e={paymentRequest:this.paymentRequest,environment:this.environment,existingPaymentMethodRequired:this.existingPaymentMethodRequired,onPaymentDataChanged:this.onPaymentDataChanged,onPaymentAuthorized:this.onPaymentAuthorized,buttonColor:this.buttonColor,buttonType:this.buttonType,buttonSizeMode:this.buttonSizeMode,buttonLocale:this.buttonLocale,onReadyToPayChange:e=>{this.onReadyToPayChange&&this.onReadyToPayChange(e),this.dispatch("readytopaychange",e)},onCancel:e=>{this.onCancel&&this.onCancel(e),this.dispatch("cancel",e)},onError:e=>{var t;this.onError&&(null===(t=this.onError)||void 0===t||t.call(this,e)),this.dispatchEvent(new ErrorEvent("error",{error:e}))},onLoadPaymentData:e=>{this.onLoadPaymentData&&this.onLoadPaymentData(e),this.dispatch("loadpaymentdata",e)}};this.manager.configure(e)})}get isReadyToPay(){return this.manager.isReadyToPay}assertRequiredProperty(e){const t=this[e];return null!=t||(this.throwError(Error("Required property not set: "+e)),!1)}throwError(e){throw e}static get observedAttributes(){return Vt._observedAttributes}addObservedAttribute(e){Vt._observedAttributes.push(e)}dispatch(e,t){this.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!1,detail:t}))}connectedCallback(){return Rt(this,void 0,void 0,(function*(){return yield this.manager.mount(this),this.initializeButton()}))}disconnectedCallback(){this.manager.unmount()}attributeChangedCallback(e){return this.initializeButton()}notifyPropertyChanged(e){return this.initializeButton()}}Vt._observedAttributes=[],kt([jt(),Ot("paymentrequest")],Vt.prototype,"paymentRequest",void 0),kt([Nt()],Vt.prototype,"environment",void 0),kt([function(e,t){const o=zt||It(t);e.addObservedAttribute&&e.addObservedAttribute(o),Object.defineProperty(e,t,{get(){return this.hasAttribute(o)},set(e){e?this.setAttribute(o,""):this.removeAttribute(o),this.notifyPropertyChanged(t)},enumerable:!0,configurable:!0})},Ot("existingpaymentmethodrequired")],Vt.prototype,"existingPaymentMethodRequired",void 0),kt([Nt(),Ot("buttoncolor")],Vt.prototype,"buttonColor",void 0),kt([Nt(),Ot("buttontype")],Vt.prototype,"buttonType",void 0),kt([Nt(),Ot("buttonsizemode")],Vt.prototype,"buttonSizeMode",void 0),kt([Nt(),Ot("buttonlocale")],Vt.prototype,"buttonLocale",void 0),kt([jt(),Ot("paymentDataChangedCallback"),Ot("paymentdatachangedcallback"),Ot("onpaymentdatachanged")],Vt.prototype,"onPaymentDataChanged",void 0),kt([jt(),Ot("paymentAuthorizedCallback"),Ot("paymentauthorizedcallback"),Ot("onpaymentauthorized")],Vt.prototype,"onPaymentAuthorized",void 0),kt([Ot("readyToPayChangeCallback"),Ot("readytopaychangecallback"),Ot("onreadytopaychange")],Vt.prototype,"onReadyToPayChange",void 0),kt([Ot("loadPaymentDataCallback"),Ot("loadpaymentdatacallback"),Ot("onloadpaymentdata")],Vt.prototype,"onLoadPaymentData",void 0),kt([Ot("cancelCallback"),Ot("cancelcallback"),Ot("oncancel")],Vt.prototype,"onCancel",void 0),kt([Ot("errorCallback"),Ot("errorcallback"),Ot("onerror")],Vt.prototype,"onError",void 0),customElements.define("google-pay-button",Vt);var Ft="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==Ft&&Ft,qt="URLSearchParams"in Ft,$t="Symbol"in Ft&&"iterator"in Symbol,Ht="FileReader"in Ft&&"Blob"in Ft&&function(){try{return new Blob,!0}catch(e){return!1}}(),Gt="FormData"in Ft,Wt="ArrayBuffer"in Ft;if(Wt)var Jt=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Kt=ArrayBuffer.isView||function(e){return e&&Jt.indexOf(Object.prototype.toString.call(e))>-1};function Xt(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function Yt(e){return"string"!=typeof e&&(e=String(e)),e}function Zt(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return $t&&(t[Symbol.iterator]=function(){return t}),t}function Qt(e){this.map={},e instanceof Qt?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function eo(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function to(e){return new Promise((function(t,o){e.onload=function(){t(e.result)},e.onerror=function(){o(e.error)}}))}function oo(e){var t=new FileReader,o=to(t);return t.readAsArrayBuffer(e),o}function no(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function io(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:Ht&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Gt&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:qt&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Wt&&Ht&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=no(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Wt&&(ArrayBuffer.prototype.isPrototypeOf(e)||Kt(e))?this._bodyArrayBuffer=no(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):qt&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Ht&&(this.blob=function(){var e=eo(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=eo(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(oo)}),this.text=function(){var e,t,o,n=eo(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,o=to(t),t.readAsText(e),o;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),o=new Array(t.length),n=0;n<t.length;n++)o[n]=String.fromCharCode(t[n]);return o.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Gt&&(this.formData=function(){return this.text().then(ao)}),this.json=function(){return this.text().then(JSON.parse)},this}Qt.prototype.append=function(e,t){e=Xt(e),t=Yt(t);var o=this.map[e];this.map[e]=o?o+", "+t:t},Qt.prototype.delete=function(e){delete this.map[Xt(e)]},Qt.prototype.get=function(e){return e=Xt(e),this.has(e)?this.map[e]:null},Qt.prototype.has=function(e){return this.map.hasOwnProperty(Xt(e))},Qt.prototype.set=function(e,t){this.map[Xt(e)]=Yt(t)},Qt.prototype.forEach=function(e,t){for(var o in this.map)this.map.hasOwnProperty(o)&&e.call(t,this.map[o],o,this)},Qt.prototype.keys=function(){var e=[];return this.forEach((function(t,o){e.push(o)})),Zt(e)},Qt.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),Zt(e)},Qt.prototype.entries=function(){var e=[];return this.forEach((function(t,o){e.push([o,t])})),Zt(e)},$t&&(Qt.prototype[Symbol.iterator]=Qt.prototype.entries);var ro=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function so(e,t){if(!(this instanceof so))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var o,n,i=(t=t||{}).body;if(e instanceof so){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Qt(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Qt(t.headers)),this.method=(o=t.method||this.method||"GET",n=o.toUpperCase(),ro.indexOf(n)>-1?n:o),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function ao(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var o=e.split("="),n=o.shift().replace(/\+/g," "),i=o.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function lo(e,t){if(!(this instanceof lo))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new Qt(t.headers),this.url=t.url||"",this._initBody(e)}so.prototype.clone=function(){return new so(this,{body:this._bodyInit})},io.call(so.prototype),io.call(lo.prototype),lo.prototype.clone=function(){return new lo(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Qt(this.headers),url:this.url})},lo.error=function(){var e=new lo(null,{status:0,statusText:""});return e.type="error",e};var co=[301,302,303,307,308];lo.redirect=function(e,t){if(-1===co.indexOf(t))throw new RangeError("Invalid status code");return new lo(null,{status:t,headers:{location:e}})};var uo=Ft.DOMException;try{new uo}catch(e){(uo=function(e,t){this.message=e,this.name=t;var o=Error(e);this.stack=o.stack}).prototype=Object.create(Error.prototype),uo.prototype.constructor=uo}function po(e,t){return new Promise((function(o,n){var i=new so(e,t);if(i.signal&&i.signal.aborted)return n(new uo("Aborted","AbortError"));var r=new XMLHttpRequest;function s(){r.abort()}r.onload=function(){var e,t,n={status:r.status,statusText:r.statusText,headers:(e=r.getAllResponseHeaders()||"",t=new Qt,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var o=e.split(":"),n=o.shift().trim();if(n){var i=o.join(":").trim();t.append(n,i)}})),t)};n.url="responseURL"in r?r.responseURL:n.headers.get("X-Request-URL");var i="response"in r?r.response:r.responseText;setTimeout((function(){o(new lo(i,n))}),0)},r.onerror=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},r.ontimeout=function(){setTimeout((function(){n(new TypeError("Network request failed"))}),0)},r.onabort=function(){setTimeout((function(){n(new uo("Aborted","AbortError"))}),0)},r.open(i.method,function(e){try{return""===e&&Ft.location.href?Ft.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?r.withCredentials=!0:"omit"===i.credentials&&(r.withCredentials=!1),"responseType"in r&&(Ht?r.responseType="blob":Wt&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(r.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof Qt?i.headers.forEach((function(e,t){r.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){r.setRequestHeader(e,Yt(t.headers[e]))})),i.signal&&(i.signal.addEventListener("abort",s),r.onreadystatechange=function(){4===r.readyState&&i.signal.removeEventListener("abort",s)}),r.send(void 0===i._bodyInit?null:i._bodyInit)}))}async function ho(e,t,o){return po(e,{method:"POST",headers:JSON.parse(t),body:JSON.stringify(o),credentials:"include"}).then(e=>e.json()).then(e=>e)}function mo(e,t,o){var n,i,r;const s=null===(n=null==t?void 0:t.name)||void 0===n?void 0:n.indexOf(" ");return{contactType:e,firstName:null===(i=t.name)||void 0===i?void 0:i.substring(0,s),lastName:null===(r=t.name)||void 0===r?void 0:r.substring(s),address:{address1:null==t?void 0:t.address1,address2:null==t?void 0:t.address2,city:null==t?void 0:t.locality,country:null==t?void 0:t.countryCode,state:null==t?void 0:t.administrativeArea,verified:!0,zipCode:null==t?void 0:t.postalCode},emailAddress:o,phoneNumber:t.phoneNumber}}function yo(e,t,o,n){const i=new CustomEvent(gt.PaymentProcessNotification,{bubbles:!0,composed:!0,detail:fo(e,t,o,n)});return console.log(`Event to be dispatched ${i} with details ${i.detail}`),i}function fo(e,t,o,n){return{payCode:Et.payCode,paymentCategory:Et.paymentCategory,paymentId:null==o?void 0:o.id,globalPaymentId:null==o?void 0:o.globalPaymentId,transactionId:null==o?void 0:o.transactionId,data:t?JSON.stringify(o):n,processType:e,isSuccess:t}}po.polyfill=!0,Ft.fetch||(Ft.fetch=po,Ft.Headers=Qt,Ft.Request=so,Ft.Response=lo);let go=null,bo=null;function vo(e,t){const o=[];return t&&o.push("SHIPPING_ADDRESS"),(null==e?void 0:e.callbackIntents.authorization)&&o.push(null==e?void 0:e.callbackIntents.authorization),o}function _o(e){var t,o,n,i;return{totalPriceStatus:null===(o=null===(t=null==e?void 0:e.googlePayApiClientConfiguration)||void 0===t?void 0:t.priceStatus)||void 0===o?void 0:o.express,totalPrice:null===(n=null==e?void 0:e.orderTotal)||void 0===n?void 0:n.toString(),currencyCode:null===(i=null==e?void 0:e.paymentContext)||void 0===i?void 0:i.currencyCode.toUpperCase(),countryCode:So(e)}}function wo(e){return{allowedCountryCodes:[So(e)],phoneNumberRequired:!0}}function So(e){var t;const o=null===(t=null==e?void 0:e.paymentContext)||void 0===t?void 0:t.countryCode.toUpperCase();return"UK"===o?"GB":o}function xo(e){if(console.log("Compatibility check -> "+e.isReadyToPay),!e.isReadyToPay){document.getElementById("googlePayLightBoxDiv").innerHTML=""}}function Po(e){console.log("load payment data "+JSON.stringify(e))}function Co(e){const t=document.getElementById("googlePayLightBoxDiv");let o,n=!0;try{t.dispatchEvent(new CustomEvent(gt.PaymentProcessingStarted,{bubbles:!0,composed:!0,detail:{payCode:Et.payCode,paymentCategory:Et.paymentCategory}})),o=function(e){const t={paymentCategoryName:go.paymentInfo.categoryName,nonAppliedPayment:{payCode:go.paymentInfo.paymentOptions[0].payCode,paymentCategoryName:go.paymentInfo.categoryName,isExpressCheckout:go.paymentInfo.isExpressCheckout},salesOrderId:go.paymentContext.salesOrderId,isPaymentAncillaryDataRequired:!0,paymentProcessType:"Register",googlePayDetails:{walletEmail:null==e?void 0:e.email,lastFour:e.paymentMethodData.info.cardDetails,transactionId:bo,secureToken:e.paymentMethodData.tokenizationData.token,chargeDescription:e.paymentMethodData.description,customerReferenceCode:"123"}};if(go.paymentInfo.isExpressCheckout){if(t.contactList=[],!e.shippingAddress)throw new Error("Shipping Address is missing");{const o=mo("Shipping",e.shippingAddress,e.email);t.contactList.push(o)}if(!(e.paymentMethodData&&e.paymentMethodData.info&&e.paymentMethodData.info.billingAddress))throw new Error("Billing Address is missing");{const o=mo("Billing",e.paymentMethodData.info.billingAddress,e.email);t.contactList.push(o)}}return t}(e)}catch(e){n=!1,t.dispatchEvent(yo(Et.onError,!1,null,e.Message))}if(n){let n;ho(go.paymentInfo.paymentGatewayRegistrationUrl,'{ "content-type": "application/json" }',o).then(o=>{var i,r,s,a;o.processingStatus.status.toString()==_t.Success?(n={amount:Number(null==go?void 0:go.orderTotal),globalPaymentId:o.googlePayDetails.globalPaymentId,id:o.googlePayDetails.paymentId,lastFour:e.paymentMethodData.info.cardDetails,walletType:Et.walletType,transactionId:bo,displayAmount:null},(null===(i=o.googlePayDetails)||void 0===i?void 0:i.perform3DS)&&(null===(r=o.googlePayDetails)||void 0===r?void 0:r.successUrl)?t.dispatchEvent(new CustomEvent(gt.ShowGpay3DSModal,{bubbles:!0,composed:!0,detail:o})):t.dispatchEvent(yo(Et.onApprove,!0,n))):t.dispatchEvent(yo(Et.onError,!1,null,null===(a=null===(s=o.processingStatus)||void 0===s?void 0:s.processingMessage)||void 0===a?void 0:a.join("|")))}).catch(e=>{t.dispatchEvent(new CustomEvent(gt.CloseGpay3DSModel,{bubbles:!1,detail:null})),t.dispatchEvent(yo(Et.onError,!1,null,e.message)),console.log("in catch error block"+e.message)})}return{transactionState:"SUCCESS"}}function Eo(e){return{newTransactionInfo:_o(go)}}function To(e){console.log("User has cancelled the transaction")}function Mo(e){const t=document.getElementById("googlePayLightBoxDiv");console.log("OnError -> "+JSON.stringify(e)),t.dispatchEvent(yo(Et.onError,!1,null,e))}let Ao=class extends oe{constructor(){super(),this.show=!1,this.lookUpAuthRetryCount=0,this.showAutoRetryAlert=!1,this.handler=e=>{var t;"https://pay.google.com"!==(null===(t=null==e?void 0:e.origin)||void 0===t?void 0:t.toLowerCase())&&(window.removeEventListener("message",this.handler),this.processAuthentication(this.containerElement))}}render(){const e=U`<div id="gpay3dsModal" class="dds__modal ${this.show?"dds__d-block showModal":"dds__d-none closeModal"}"><div class="dds__modal-dialog top-5" role="document"><div class="dds__modal-content"><div class="dds__modal-header"><h3 class="dds__modal-title" id="dds__modal-title1">${this.labelContent.buy_payments_googlepay_3ds_verification_title}</h3></div><button class="dds__close" data-dismiss="dds__modal" aria-label="Close" @click="${this.closeModal}"><span class="dds__icons dds__close-x" aria-hidden="true"></span></button><div class="dds__modal-body"><div id="retryAlertMessageElm" class="modal ${this.showAutoRetryAlert?"dds__d-block":"dds__d-none"}"><div id="alertMessage" class="dds__alert dds__mb-3" role="alert"><div class="dds__d-flex dds__justify-content-between"><div class="dds__alert-heading dds__d-flex dds__align-items-center"><i class="dds__icons dds__alert-notice dds__icon-h4" aria-hidden="true"></i> <label>${this.labelContent.buy_payments_googlepay_3ds_verification_autoRetry_content}</label></div></div></div></div><p>${this.labelContent.buy_payments_googlepay_3ds_verification_content}</p><iframe id="iframePaymentModal" class="payment_details" src="${this.sourceUrl}" target="_parent" border="0" frameborder="0" font-size="small" width="400" height="450"></iframe></div></div></div></div>`;return this.show?e:U``}closeModal(){var e;this.show&&(this.show=!1,this.sourceUrl=null,this.modalTimerTimeout=null,this.lookUpAuthRetryCount=0,this.showAutoRetryAlert=!1,this.clearModalTimer(),window.removeEventListener("message",this.handler),e=vt.Hide,document.dispatchEvent(new CustomEvent(gt.SpinnerUpdated,{bubbles:!0,composed:!0,detail:e})))}clearModalTimer(){this.modalTimerId&&window.clearTimeout(this.modalTimerId)}createRenderRoot(){return this}updated(){this.show&&(window.addEventListener("message",this.handler),this.modalTimerTimeout&&(this.modalTimerId=window.setTimeout(this.handleModalTimeout.bind(this),this.modalTimerTimeout)))}handleModalTimeout(){this.show&&(this.containerElement&&this.containerElement.dispatchEvent(new CustomEvent(gt.ThreeDsTimedout,{bubbles:!0,composed:!0})),this.closeModal())}};function ko(){var e,t,o,n,i,r,s,a,l;return U`<div id="googlePayLightBoxDiv" data-metrics='{"btnname":"${(null===(t=null===(e=this._context)||void 0===e?void 0:e.paymentMFEModel)||void 0===t?void 0:t.paymentInfo.isExpressCheckout)?"paywithgooglepayex":"paywithgooglepay"}|${null===(r=null===(i=null===(n=null===(o=this._context)||void 0===o?void 0:o.paymentMFEModel)||void 0===n?void 0:n.paymentInfo)||void 0===i?void 0:i.paymentOptions[0])||void 0===r?void 0:r.payCode.toLocaleLowerCase()}"}'>${function(e){go=e;const t=null==e?void 0:e.googlePayApiClientConfiguration,o=null==e?void 0:e.paymentInfo.isExpressCheckout,n=new Vt,i=null==t?void 0:t.environment,r=null==t?void 0:t.buttonColor,s=null==t?void 0:t.allowedAuthMethods,a=null==t?void 0:t.allowedCardTypes,l=null==t?void 0:t.paymentMethodType,d=null==t?void 0:t.tokenizationSpecification,c=null==t?void 0:t.merchantInfo;return n.environment=i,n.buttonColor=r,n.buttonType=function(e,t){if(t)return null==e?void 0:e.buttonType.express;return null==e?void 0:e.buttonType.regular}(t,o),n.paymentRequest={apiVersion:Number(null==t?void 0:t.apiVersion),apiVersionMinor:Number(null==t?void 0:t.apiVersionMinor),allowedPaymentMethods:[{type:l,parameters:{allowedAuthMethods:s,allowedCardNetworks:a,billingAddressRequired:o,billingAddressParameters:{format:"FULL",phoneNumberRequired:o}},tokenizationSpecification:d}],merchantInfo:c,transactionInfo:_o(e),shippingAddressRequired:o,shippingAddressParameters:wo(e),emailRequired:!0,callbackIntents:vo(t,o)},bo=((new Date).getTime()*Math.floor(100*Math.random())).toString(),n.paymentRequest.transactionInfo.transactionId=bo,n.onLoadPaymentData=Po,n.onReadyToPayChange=xo,n.onPaymentAuthorized=Co,o&&(n.onPaymentDataChanged=Eo),n.onerror=Mo,n.oncancel=To,n}(null===(s=this._context)||void 0===s?void 0:s.paymentMFEModel)}</div><gpay-modal-popup id="gpayModalPopup" .show="${this._show3DSModal}" .sourceUrl="${this._redirectionUrl}" .modalTimerTimeout="${this._threeDsTimeout}" .labelContent="${null===(l=null===(a=this._context)||void 0===a?void 0:a.paymentMFEModel)||void 0===l?void 0:l.labelContent}" .containerElement="${this}"></gpay-modal-popup>`}function Ro(e){var t,o,n,i,r,s,a,l,d,c,u;const p=null===(o=null===(t=null==e?void 0:e._context.paymentMFEModel)||void 0===t?void 0:t.paymentInfo)||void 0===o?void 0:o.paymentGatewayRegistrationUrl,h=null==e?void 0:e.getModalControl(),m=function(e,t){var o,n,i,r,s,a,l,d;const c={paymentCategoryName:t.paymentInfo.categoryName,nonAppliedPayment:{payCode:null===(o=null==t?void 0:t.paymentInfo)||void 0===o?void 0:o.paymentOptions[0].payCode,paymentCategoryName:null===(n=null==t?void 0:t.paymentInfo)||void 0===n?void 0:n.categoryName,isExpressCheckout:null===(i=null==t?void 0:t.paymentInfo)||void 0===i?void 0:i.isExpressCheckout},isPaymentAncillaryDataRequired:!1,paymentProcessType:bt.Authenticate,googlePayDetails:{globalPaymentId:null===(r=null==e?void 0:e.googlePayDetails)||void 0===r?void 0:r.globalPaymentId,amount:null===(s=null==e?void 0:e.googlePayDetails)||void 0===s?void 0:s.amount,payCode:null==Et?void 0:Et.payCode,lastFour:null===(a=null==e?void 0:e.googlePayDetails)||void 0===a?void 0:a.lastFour,enabledCardinal2:!0,transactionId:null===(l=null==e?void 0:e.googlePayDetails)||void 0===l?void 0:l.transactionId,walletType:null==Et?void 0:Et.walletType}};(null===(d=null==t?void 0:t.paymentInfo)||void 0===d?void 0:d.isExpressCheckout)&&(c.contactList=e.contactList);return c}(null==e?void 0:e._gpayResponse,null==e?void 0:e._context.paymentMFEModel),y={amount:Number(null===(n=null==e?void 0:e._gpayResponse)||void 0===n?void 0:n.googlePayDetails.amount),globalPaymentId:null===(r=null===(i=null==e?void 0:e._gpayResponse)||void 0===i?void 0:i.googlePayDetails)||void 0===r?void 0:r.globalPaymentId,id:null===(a=null===(s=null==e?void 0:e._gpayResponse)||void 0===s?void 0:s.googlePayDetails)||void 0===a?void 0:a.paymentId,lastFour:null===(d=null===(l=null==e?void 0:e._gpayResponse)||void 0===l?void 0:l.googlePayDetails)||void 0===d?void 0:d.lastFour,walletType:null==Et?void 0:Et.walletType,transactionId:null===(u=null===(c=null==e?void 0:e._gpayResponse)||void 0===c?void 0:c.googlePayDetails)||void 0===u?void 0:u.transactionId,displayAmount:null};ho(p,'{ "content-type": "application/json" }',m).then(e=>{var t;e?(console.log("Authenticate call successful with payment id "+e.googlePayDetails.paymentId),y.id=e.googlePayDetails.paymentId,h.clearModalTimer(),console.log("Modal timer stopped"),(null===(t=null==e?void 0:e.processingStatus)||void 0===t?void 0:t.status.toString())==_t.Success?(h.closeModal(),console.log("Modal window closed"),document.dispatchEvent(yo(Et.onApprove,!0,y))):(h.closeModal(),document.dispatchEvent(yo(Et.onError,!1,null)))):(h.closeModal(),document.dispatchEvent(yo(Et.onError,!1,null)))}).catch(e=>{h.closeModal(),console.log("Error log "+JSON.stringify(e.Message)),document.dispatchEvent(yo(Et.onError,!1,null))})}e([X({type:Object})],Ao.prototype,"containerElement",void 0),e([X({type:Boolean})],Ao.prototype,"show",void 0),e([X({type:String})],Ao.prototype,"sourceUrl",void 0),e([X({type:Number})],Ao.prototype,"modalTimerTimeout",void 0),e([X({type:Object})],Ao.prototype,"labelContent",void 0),Ao=e([J("gpay-modal-popup")],Ao);let Io=class extends oe{constructor(){super(),this._show3DSModal=!1,this._context=new ne}get paymentMFEModel(){return JSON.stringify(this._context.paymentMFEModel)}set paymentMFEModel(e){const t=this._context.paymentMFEModel,o="string"==typeof e?JSON.parse(e):e;this._context.paymentMFEModel=o,this.requestUpdate("paymentMFEModel",t)}set finalOrderTotal(e){Ct(e)||(this._context.paymentMFEModel.orderTotal=e.toString())}render(){var e,t;if(Mt(null===(t=null===(e=this._context)||void 0===e?void 0:e.paymentMFEModel)||void 0===t?void 0:t.paymentContext))return U`${ko.call(this)}`;console.log("invalid context")}createRenderRoot(){return this}initialializeTabbingAndCSS(){de(this),re(this)}firstUpdated(){var e,t;Mt(null===(t=null===(e=this._context)||void 0===e?void 0:e.paymentMFEModel)||void 0===t?void 0:t.paymentContext)&&(this.initialializeTabbingAndCSS.call(this.children[0]),this.addEventListener(gt.ShowGpay3DSModal,e=>{var t;this._gpayResponse=e.detail,this._redirectionUrl=null===(t=e.detail.googlePayDetails)||void 0===t?void 0:t.successUrl,this._show3DSModal=!0,this.openModalWindow(),this.requestUpdate()}),this.addEventListener(gt.CloseGpay3DSModel,()=>{this._show3DSModal=!1,this._redirectionUrl=null,this._threeDsTimeout=null,this.closeModelWindow()}),this.addEventListener(gt.ThreeDsTimedout,()=>{this.threeDsTimeOutHandler()}))}threeDsTimeOutHandler(){console.log("3DS timedout"),document.dispatchEvent(yo(Et.onApprove,!1,null))}getThreeDsTimeOut(){return 15e4}getModalControl(){return this.querySelector("#gpayModalPopup")}openModalWindow(){const e=this.getModalControl();Ct(e)||(e.sourceUrl=this._redirectionUrl,e.modalTimerTimeout=this.getThreeDsTimeOut(),e.show=!0),this._redirectionUrl&&(e.processAuthentication=Ro)}closeModelWindow(){const e=this.getModalControl();Ct(e)||e.closeModal()}};e([X({reflect:!0})],Io.prototype,"paymentMFEModel",null),e([X({attribute:!1})],Io.prototype,"finalOrderTotal",null),Io=e([J("google-pay-lightbox-button-mfe")],Io);
//# sourceMappingURL=googlepaymfe.js.map
